{% extends "layout.html" %}

{% block title %}
    Login
{% endblock %}

{% block content %}

    <div class= "container-sm p-5 col-lg-6" id="login_page">
        <div class="text-center" style="margin-bottom:0">
            <h1> Welcome to Flack! </h1>
            <p> Here, you can chat with other users by joining any channel you like or by creating a new one.
            <br> 
            To get started, please log in with a username. 
            </p>
        </div>
        <form id="login_form">
            <div class="input-group">            
                <input type="text" class="form-control" placeholder="Enter username" id="username" name="username" required>
                <div class="input-group-append">
                    <button type="submit" class="btn btn-primary">Submit</button>
                </div>
            </div>       
        </form>
    </div>

    <div id="chat_page">
        <div id="chat_div" class="container d-flex flex-column flex-fill mh-100 overflow-hidden">
            <h5 class="text-center m-3">Select from the list of channels below, or create your own!</h5>
            <div id="chatbox" class="container d-flex flex-fill mh-100 overflow-hidden">
    
                <div id="chatlist" class="d-flex flex-column">
    
                    <div id="dismiss">
                        <i class="fas fa-arrow-left"></i>
                    </div>
    
                    <div id="channel_list_div" class="h-100 mh-100 overflow-auto">        
    
                        <h3 class="container">Available Channels</h3>
                        <hr>
                        <ul id="channel_list">
                            {% for channel in channels%}
                                <li> <buttton class="btn btn-link" data-channel= "{{channel}}"> #{{channel}} </button> </li>
                                <hr>                            
                            {% endfor %}
    
                        </ul>                       
    
                    </div>
    
    
                </div>
    
                <div id="chatmessages" class="flex-fill d-flex flex-column">
    
                    <button type="button" id="sidebarCollapse" class="btn btn-warning">
                        <i class="fas fa-align-left"></i>
                        <span>Show Chatroom List</span>
                    </button>
    
                    <h2 id="chat_msg_header"></h2>

                    <hr>
    
                    <div id="messages_wrapper" class="overflow-auto flex-grow-1">
                        <div id="messages" class="container overflow-auto h-100">
                            
    
                        </div>
                    </div>
                    
                    <form id="message_submit">
                        <div class="input-group container-fluid" id="message_input_group">                            
                            <input type="text" id="message_input" class="form-control" name="message_input" placeholder="Type a message..." aria-label="Type a message" required/>
                            <div class="input-group-append">
                                <button type="submit" class="btn btn-dark">Send</button>
                            </div>                        
                        </div>
                    </form>
    
                </div>
            </div>
        </div>
    
          <!-- The Modal -->
        <div class="modal fade" id="myModal">
            <div class="modal-dialog">
                <div class="modal-content">
                
                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h3 class="modal-title"> Create a new channel! </h3>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                    
                    <!-- Modal body -->
                    <div class="modal-body">
                        <form id="createchannel">
                            <input type="text" class="form-control" placeholder="Name of Channel" id="channelname" name="channelname" required>
                            <hr>                      
                            <button type="button" class="btn btn-danger float-right" data-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-primary float-right">Create</button>
                        </form>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>

{% endblock %}